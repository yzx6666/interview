# 互斥锁和读写锁

## 互斥锁机制：
**```mutex```,用于保证任何时刻，都只有一个线程访问对象。当获得锁操作失败时，线程会进入睡眠，等待所释放时被唤醒。**

## 互斥锁和读写锁
1.  **读写锁区分读者和写者，而互斥锁不分**
2.  **互斥锁同一时刻只允许一个线程访问对象，无论读写；读写锁同一时刻只有一个写者但是允许多个读者**

#### （互斥锁相当于一个bool变量，当值为true时表示所可以获取，当为false时不能获取，表示已上锁）

## 互斥锁和自旋锁使用场景：
1.  ### 互斥锁用于临界区保持所较长时间
    1.  **临界区有I/O操作**
    2.  **临界区代码复杂，或循环量大**
    3.  **临界区竞争激烈**
    4.  **单核处理器**
2.  ### 自旋锁：
    1.  主要用于CPU资源不紧张且临界区持锁时间非常少