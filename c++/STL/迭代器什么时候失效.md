# 迭代器什么时候失效(迭代器怎么删除元素)



1. **对于序列容器vector，deque来说，使用erase后，后边的每个元素的迭代器都会失效，后边每个元素都往前移动一位，erase返回下一个有效的迭代器。**
```c++
erase(it++); //所以不能使用的方式，但是erase的返回值是下一个有效迭代器；
It = c.erase(it);
````

2. **对于关联容器map，set来说，使用了erase后，当前元素的迭代器失效，但是其结构是红黑树，删除当前元素，不会影响下一个元素的迭代器，所以在调用erase之前，记录下一个元素的迭代器即可.**
```c++
erase(it++)
```

3. **对于list来说，它使用了不连续分配的内存，并且它的erase方法也会返回下一个有效的迭代器，因此上面两种方法都可以使用。**
