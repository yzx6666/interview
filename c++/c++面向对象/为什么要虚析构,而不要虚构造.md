# 为什么要虚继承,而不要虚构造

## 为什么要虚析构
**在C++中,如果一个基类派生出多个子类,并且用基类指针指向子类对象,那么在使用基类指针删除子类对象时,需要使用虚析构函数。 因为如果析构函数不是虚函数,那么调用的是基类的析构函数,而不是子类的。这会导致子类对象的一些资源无法被正确释放,造成内存泄漏**

<br/>

## 默认的析构函数不是虚函数
**因为虚函数需要额外的虚函数表和虚表指针，占用额外的内存。而对于不会被继承的类来说，其析构函数如果是虚函数，就会浪费内存。**

<br/>

## 为什么不要虚构造
**虚构造函数在继承体系中没有意义,因为构造函数的作用是初始化对象,每个类都有自己特有的初始化工作,不需要基类构造函数来完成,因此不需要虚构造函数。虚函数对应一个虚表,这个表的地址是存储在对象的内存空间的。如果将构造函数设置为虚函数，就需要到虚表中调用，可是对象还没有实例化，没有内存空间分配,所以不能虚构造**